<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Coin Flip • samc</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Coin Flip">
<meta property="og:description" content="samc">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">samc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/overview.html">Overview</a>
    </li>
    <li>
      <a href="../articles/article-circuit-theory.html">Circuit Theory</a>
    </li>
    <li>
      <a href="../articles/performance.html">Performance</a>
    </li>
    <li>
      <a href="../articles/parallel.html">Parallel Computing</a>
    </li>
    <li>
      <a href="../articles/troubleshooting.html">Troubleshooting</a>
    </li>
    <li>
      <a href="../articles/code-snippets.html">Code Snippets</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Data
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/data-disconnected.html">Disconnected Data</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/tutorial-basic.html">Basic Tutorial</a>
    </li>
    <li>
      <a href="../articles/tutorial-locations.html">Locations</a>
    </li>
    <li>
      <a href="../articles/tutorial-ggplot.html">ggplot Visualization</a>
    </li>
    <li>
      <a href="../articles/tutorial-temporal.html">Temporal Analysis</a>
    </li>
    <li>
      <a href="../articles/tutorial-animations.html">Animations</a>
    </li>
    <li>
      <a href="../articles/tutorial-multiple-absorption.html">Multiple Absorption</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/example-coinflip.html">Coin Flip</a>
    </li>
    <li>
      <a href="../articles/example-maze-part1.html">Maze (Part 1)</a>
    </li>
    <li>
      <a href="../articles/example-maze-part2.html">Maze (Part 2)</a>
    </li>
    <li>
      <a href="../articles/example-maze-part3.html">Maze (Part 3)</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/andrewmarx/samc" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Coin Flip</h1>
                        <h4 data-toc-skip class="author">Andrew
Marx</h4>
            
            <h4 data-toc-skip class="date">2023-02-01</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/andrewmarx/samc/blob/HEAD/vignettes/example-coinflip.Rmd" class="external-link"><code>vignettes/example-coinflip.Rmd</code></a></small>
      <div class="hidden name"><code>example-coinflip.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This example is a write-up of an answer I gave to a <a href="https://stats.stackexchange.com/questions/553289/could-any-equation-have-predicted-the-results-of-this-simulation" class="external-link">coin
flip question on StackExchange</a>. Essentially, the question was: given
a series of coin flips, how many coin flips would it take (on average)
to get the sequence <span class="math inline">\(Heads-Tails-Heads\)</span>.</p>
<p>It’s possible to model this scenario using absorbing Markov chains.
Metrics within the package can then be used to answer the posed
question, as well as explore other questions that may be of
interest.</p>
<p>The complete code for this example is available on <a href="https://github.com/andrewmarx/samc/blob/main/vignettes/scripts/example-coinflip.R" class="external-link">Github</a>.</p>
<!--
https://latex.codecogs.com/eqneditor/editor.php
\bordermatrix{
      & HHT & HHH & THT & THH & TTT & TTH & HTT & HTH \cr
  HHT & 0   & 0   & 0   & 0   & 0   & 0   & 1-p & p   \cr
  HHH & 1-p & p   & 0   & 0   & 0   & 0   & 0   & 0   \cr
  THT & 0   & 0   & 0   & 0   & 0   & 0   & 1-p & p   \cr
  THH & 1-p & p   & 0   & 0   & 0   & 0   & 0   & 0   \cr
  TTT & 0   & 0   & 0   & 0   & 1-p & p   & 0   & 0   \cr
  TTH & 0   & 0   & 1-p & p   & 0   & 0   & 0   & 0   \cr
  HTT & 0   & 0   & 0   & 0   & 1-p & p   & 0   & 0   \cr
  HTH & 0   & 0   & 0   & 0   & 0   & 0   & 0   & 1   
}
-->
</div>
<div class="section level2">
<h2 id="libraries">Libraries<a class="anchor" aria-label="anchor" href="#libraries"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://andrewmarx.github.io/samc/" class="external-link">samc</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>The first step is to create a <span class="math inline">\(P\)</span>
matrix representing the possible states. The key is to define <span class="math inline">\(HTH\)</span> as our absorbing state. In other
words, once the model reaches that state, it is complete.</p>
<p><img src="img/coinflipmatrix.svg"></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Coin flip probabilities</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fl">0.5</span>    <span class="co"># Probability of heads</span></span>
<span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">-</span> <span class="va">p</span>  <span class="co"># Probability of tails</span></span>
<span></span>
<span><span class="va">p_mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="va">q</span>, <span class="va">p</span>,</span>
<span>                  <span class="va">q</span>, <span class="va">p</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span>
<span>                  <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="va">q</span>, <span class="va">p</span>,</span>
<span>                  <span class="va">q</span>, <span class="va">p</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span>
<span>                  <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="va">q</span>, <span class="va">p</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span>
<span>                  <span class="fl">0</span>, <span class="fl">0</span>, <span class="va">q</span>, <span class="va">p</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span>
<span>                  <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="va">q</span>, <span class="va">p</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span>
<span>                  <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>                <span class="fl">8</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">p_mat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HHT"</span>, <span class="st">"HHH"</span>, <span class="st">"THT"</span>, <span class="st">"THH"</span>, <span class="st">"TTT"</span>, <span class="st">"TTH"</span>, <span class="st">"HTT"</span>, <span class="st">"HTH"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">p_mat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">p_mat</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># A samc object is the core of the package</span></span>
<span><span class="va">samc_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/samc.html">samc</a></span><span class="op">(</span><span class="va">p_mat</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Warning: Some checks for manually created P matrices are still missing:"</span></span>
<span><span class="co">#&gt; [1] "1) Discontinuous data will not work with the cond_passage() function."</span></span>
<span><span class="co">#&gt; [1] "2) Every disconnected region of the graph must have at least one non-zero absorption value."</span></span></code></pre></div>
<p>First, the coin flip probabilities are defined using variables, which
allows us to easily change the matrix to simulate a biased coin if we
want.</p>
<p>The last row and column of the matrix represents <span class="math inline">\(HTH\)</span>, or the absorbing state. Notice that
the last row makes it so that <span class="math inline">\(HTH\)</span>
can only transition to itself, and never to a different state. This
construction is explained in the <a href="overview.html#background-1">Overview background</a>.</p>
<p>The remaining rows/columns represent the remaining possible
combinations of 3 coin flips. Technically, this model assumes our
starting point includes a sequence of 3 previous flips. However, if we
decide to use <span class="math inline">\(TTT\)</span> as our initial
starting point, it will take at least 3 flips to get to the target
sequence, which is no different than starting from an empty sequence of
flips. Contrast this with the sequence of <span class="math inline">\(HHT\)</span>, which only requires one more <span class="math inline">\(H\)</span> flip for the <span class="math inline">\(HTH\)</span> sequence to occur.</p>
<p>Finally, notice that the rows sum to <code>1</code>, which is
required for the <span class="math inline">\(P\)</span> matrix. This
makes sense because each row represents the transition probabilities for
a state. Each state has a 100% probability of doing <em>something</em>,
whether it’s changing to a different transient state, an absorbing
state, or back to the current state.</p>
<p>For the original question, it’s possible to collapse some of these
states and simplify the matrix by only considering the last two coin
flips instead of three. For example, <span class="math inline">\(HTT\)</span> would also require a minimum of 3
flips to reach (like <span class="math inline">\(TTT\)</span>, which has
the same last two flips), so it could also be used as a starting point
to answer the original question. However, the current construction
simplifies the interpretation a little and allows different questions to
be asked about the model.</p>
<!--
\bordermatrix{
      & HT  & HH  & TT  & TH  & HTH \cr
   HT & 0   & 0   & 1-p & 0^* & p   \cr   *TH and HTH same
   HH & 1-p & p   & 0   & 0   & 0   \cr
   TT & 0   & 0   & 1-p & p   & 0   \cr
   TH & 1-p & p   & 0   & 0   & 0   \cr
  HTH & 0   & 0   & 0   & 0   & 1
}

Could be simplified even further
-->
</div>
<div class="section level2">
<h2 id="metrics">Metrics<a class="anchor" aria-label="anchor" href="#metrics"></a>
</h2>
<p>To answer the original question of how many coin flips it will take,
on average, to see <span class="math inline">\(HTH\)</span>, all we need
to do is calculate the expected time to absorption. With the samc
package, that is accomplished using the <code><a href="../reference/survival.html">survival()</a></code>
function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Given the last 3 flips, how many more flips until we hit HTH (absorption)?</span></span>
<span><span class="fu"><a href="../reference/survival.html">survival</a></span><span class="op">(</span><span class="va">samc_obj</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  6  8  6  8 10  8 10</span></span></code></pre></div>
<p>The fifth element represents <span class="math inline">\(TTT\)</span>
and the seventh element represents <span class="math inline">\(HTT\)</span>, or the starting points that do not
have progress toward the result. They both have a value of
<code>10</code>, which indicates that it will take an average of
<code>10</code> coin flips with a fair coin to see the sequence of <span class="math inline">\(HTH\)</span>.</p>
<p>The remaining elements give us insight into what would be expected if
we have already made some coin flips with some progress toward the goal.
For example, the first and third elements represent, <span class="math inline">\(HHT\)</span> and <span class="math inline">\(THT\)</span>, which are only one flip away from
<span class="math inline">\(HTH\)</span>. As a result, they have the
lowest expected averages to completion, which should intuitively make
sense. But they still are relatively high at <code>6</code> flips
expected. Even though there is a 50% probability of completing the
sequence in a single flip, a failure would put us back in the <span class="math inline">\(HTT\)</span> state, which is an average of
<code>10</code> steps away.</p>
<p>There are other aspects of the model that can be explored using the
package. For example, the <code><a href="../reference/visitation.html">visitation()</a></code> metric calculates
how many times each state is expected to be visited before absorption.
In the context of the coin flip model, this means we can calculate how
many times we expect a sequence to occur before hitting <span class="math inline">\(HTH\)</span>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Given a starting point (in this case, a sequence of 3 flips), how many times</span></span>
<span><span class="co"># would we expect the different combinations of 3 flips to occur before absorption?</span></span>
<span><span class="fu"><a href="../reference/visitation.html">visitation</a></span><span class="op">(</span><span class="va">samc_obj</span>, origin <span class="op">=</span> <span class="st">"HHT"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1.5 0.5 0.5 0.5 1.0 1.0 1.0</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="../reference/visitation.html">visitation</a></span><span class="op">(</span><span class="va">samc_obj</span>, origin <span class="op">=</span> <span class="st">"HHT"</span><span class="op">)</span><span class="op">)</span> <span class="co"># Compare to survival() result</span></span>
<span><span class="co">#&gt; [1] 6</span></span></code></pre></div>
<p>In this case, we specify a starting sequence of <span class="math inline">\(HHT\)</span>, which is one flip away from <span class="math inline">\(HTH\)</span> (absorption). As an example
interpretation, with this starting point, we expect the sequence <span class="math inline">\(HHT\)</span> to occur one and a half times, on
average, before hitting the <span class="math inline">\(HTH\)</span>
sequence. What’s interesting mathematically is that the sum of these
visitation values is the same as the expected remaining flips before
hitting <span class="math inline">\(HTH\)</span>.</p>
<p>Ultimately, the <code><a href="../reference/visitation.html">visitation()</a></code> metric produces a matrix of
all the possible combinations of states and specifying an origin point
simply gives us a single row of the matrix. It’s possible to get
individual columns, as well as the entire matrix (which requires
disabling a safety measure in place for larger problems).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Instead of a start point, we can look at an endpoint and how often we expect</span></span>
<span><span class="co"># it to occur for each of the possible starting points</span></span>
<span><span class="fu"><a href="../reference/visitation.html">visitation</a></span><span class="op">(</span><span class="va">samc_obj</span>, dest <span class="op">=</span> <span class="st">"THT"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.5 0.5 1.5 0.5 1.0 1.0 1.0</span></span>
<span></span>
<span><span class="co"># These results are just rows/cols of a larger matrix. We can get the entire matrix</span></span>
<span><span class="co"># of the start/end possibilities but first, we have to disable some safety measures</span></span>
<span><span class="co"># in place because this package is designed to work with extremely large P matrices</span></span>
<span><span class="co"># (millions of rows/cols) where these types of results will consume too much RAM and</span></span>
<span><span class="co"># crash R</span></span>
<span><span class="va">samc_obj</span><span class="op">$</span><span class="va">override</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span><span class="fu"><a href="../reference/visitation.html">visitation</a></span><span class="op">(</span><span class="va">samc_obj</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5] [,6] [,7]</span></span>
<span><span class="co">#&gt; [1,]  1.5  0.5  0.5  0.5    1    1    1</span></span>
<span><span class="co">#&gt; [2,]  1.5  2.5  0.5  0.5    1    1    1</span></span>
<span><span class="co">#&gt; [3,]  0.5  0.5  1.5  0.5    1    1    1</span></span>
<span><span class="co">#&gt; [4,]  1.5  1.5  0.5  1.5    1    1    1</span></span>
<span><span class="co">#&gt; [5,]  1.0  1.0  1.0  1.0    3    2    1</span></span>
<span><span class="co">#&gt; [6,]  1.0  1.0  1.0  1.0    1    2    1</span></span>
<span><span class="co">#&gt; [7,]  1.0  1.0  1.0  1.0    2    2    2</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/rowSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="fu"><a href="../reference/visitation.html">visitation</a></span><span class="op">(</span><span class="va">samc_obj</span><span class="op">)</span><span class="op">)</span> <span class="co"># equivalent to survival() above</span></span>
<span><span class="co">#&gt; [1]  6  8  6  8 10  8 10</span></span></code></pre></div>
<p>A third relevant metric is <code><a href="../reference/dispersal.html">dispersal()</a></code>. Rather than the
expected number of times we would expect a coin flip sequence to occur,
it calculates the probability of a sequence occurring before hitting our
target sequence of <span class="math inline">\(HTH\)</span>. The
short-term variant can be used to specify a limit to the number of flips
we will make.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/dispersal.html">dispersal</a></span><span class="op">(</span><span class="va">samc_obj</span>, dest <span class="op">=</span> <span class="st">"TTT"</span>, time <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.28125 0.21875 0.28125 0.21875      NA 0.21875 0.59375</span></span></code></pre></div>
<p>In this case, we’re trying to find the probability of <span class="math inline">\(TTT\)</span> occurring within 5 flips. The results
show the probability for every possible starting sequencing. For
example, the seventh element, <span class="math inline">\(HTT\)</span>
is only one flip away and has the highest probability of
<code>0.59375</code>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Andrew Marx.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
