<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Computation Methods • samc</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Computation Methods">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">samc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/overview.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/article-circuit-theory.html">Circuit Theory</a></li>
    <li><a class="dropdown-item" href="../articles/article-computation-methods.html">Computation Methods</a></li>
    <li><a class="dropdown-item" href="../articles/article-models.html">Models</a></li>
    <li><a class="dropdown-item" href="../articles/performance.html">Performance</a></li>
    <li><a class="dropdown-item" href="../articles/parallel.html">Parallel Computing</a></li>
    <li><a class="dropdown-item" href="../articles/troubleshooting.html">Troubleshooting</a></li>
    <li><a class="dropdown-item" href="../articles/code-snippets.html">Code Snippets</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-data" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Data</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-data">
<li><a class="dropdown-item" href="../articles/data-disconnected.html">Disconnected Data</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials">
<li><a class="dropdown-item" href="../articles/tutorial-basic.html">Basic Tutorial</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial-locations.html">Locations</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial-ggplot.html">ggplot Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial-temporal.html">Temporal Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial-animations.html">Animations</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial-multiple-absorption.html">Multiple Absorption</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples">
<li><a class="dropdown-item" href="../articles/example-coinflip.html">Coin Flip</a></li>
    <li><a class="dropdown-item" href="../articles/example-maze-part1.html">Maze (Part 1)</a></li>
    <li><a class="dropdown-item" href="../articles/example-maze-part2.html">Maze (Part 2)</a></li>
    <li><a class="dropdown-item" href="../articles/example-maze-part3.html">Maze (Part 3)</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/andrewmarx/samc"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Computation Methods</h1>
                        <h4 data-toc-skip class="author">Andrew
Marx</h4>
            
            <h4 data-toc-skip class="date">2024-10-30</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/andrewmarx/samc/blob/HEAD/vignettes/article-computation-methods.Rmd" class="external-link"><code>vignettes/article-computation-methods.Rmd</code></a></small>
      <div class="d-none name"><code>article-computation-methods.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h2>
<p>There are multiple approaches to calculating the results of samc
metrics. Initially, the package only provided one, but two others have
been added since, with the original remaining the default. These
approaches have tradeoffs in speed, memory usage, and supported
features, which means that the “best” one depends on the user’s data,
goals, and computing resources.</p>
</div>
<div class="section level2">
<h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a>
</h2>
<div class="section level3">
<h3 id="linear-algebra-solvers">Linear Algebra Solvers<a class="anchor" aria-label="anchor" href="#linear-algebra-solvers"></a>
</h3>
<p>Linear algebra solvers take the transition matrix and calculate the
results for the metrics as a system of linear equations. Currently, the
samc package supports two different linear algebra solvers. These
solvers only affect the behavior for the long-term metrics; the
short-term metrics are calculated directly using linear algebra in a
loop, so they do not use the solvers. Additionally, the base data
requirements for the different solvers are the same, so a samc object
can be switched from one to the other without recreating the transition
matrix.</p>
<div class="section level4">
<h4 id="direct-solver">Direct Solver<a class="anchor" aria-label="anchor" href="#direct-solver"></a>
</h4>
<p><em>Strengths:</em></p>
<ul>
<li>Supports all metrics and models</li>
<li>Intermediate speed during initial long-term metric calculations</li>
<li>Caching behavior makes reruns of long-term metric calculations with
different inputs nearly instantaneous.</li>
</ul>
<p><em>Weaknesses:</em></p>
<ul>
<li>Extremely high memory consumption during long-term metric
calculations</li>
<li>Difficult to parallelize</li>
</ul>
<p>The main benefit of the direct linear algebra behavior is that its
caching behavior makes for very fast repeated runs of long-term metrics.
However, the downside is that it is the most memory-constrained approach
when calculating these metrics.</p>
<p>The direct solver is used by default but can be manually specified
during the creation of the samc object:</p>
<pre><code><span><span class="fu"><a href="../reference/samc.html">samc</a></span><span class="op">(</span><span class="va">...</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"direct"</span><span class="op">)</span><span class="op">)</span></span></code></pre>
<p>It can also be set after the samc object has been created as long as
long as the samc object is built with a transition matrix:</p>
<pre><code><span><span class="va">samc_obj</span><span class="op">$</span><span class="va">method</span> <span class="op">=</span> <span class="st">"direct"</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="iterative-solver">Iterative Solver<a class="anchor" aria-label="anchor" href="#iterative-solver"></a>
</h4>
<p><em>Strengths:</em></p>
<ul>
<li>Supports all metrics and models</li>
<li>Moderately memory-efficient long-term metric calculations</li>
<li>Potentially some future parallelization with extensive code
rewrites</li>
</ul>
<p><em>Weaknesses:</em></p>
<ul>
<li>Generally slow long-term metric calculations</li>
<li>Little to no benefit from caching behavior</li>
<li>Technically produces an approximate result, but the difference is
not noticeable (within machine precision)</li>
</ul>
<p>The main benefit of the iterative linear algebra solver is that it
can be used for any metric while being memory efficient. The downside is
that it will generally be the slowest option for real-world data.</p>
<p>The iterative solver can be manually specified during the creation of
the samc object:</p>
<pre><code><span><span class="fu"><a href="../reference/samc.html">samc</a></span><span class="op">(</span><span class="va">...</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"iter"</span><span class="op">)</span><span class="op">)</span></span></code></pre>
<p>It can also be set after the samc object has been created as long as
long as the samc object is built with a transition matrix:</p>
<pre><code><span><span class="va">samc_obj</span><span class="op">$</span><span class="va">method</span> <span class="op">=</span> <span class="st">"iter"</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="convolution">Convolution<a class="anchor" aria-label="anchor" href="#convolution"></a>
</h3>
<p><em>Strengths:</em></p>
<ul>
<li>Very fast samc object creation</li>
<li>Very memory efficient during short- and long-term metric
calculations</li>
<li>Very fast short-term metric calculations</li>
<li>Easily scalable to multiple computational cores</li>
<li>Potential for different computational kernels in the future</li>
</ul>
<p><em>Weaknesses:</em></p>
<ul>
<li>Not supported for all metrics</li>
<li>
<code>NA</code> values not supported in map inputs</li>
<li>Cannot define custom transition functions</li>
<li>Not supported for correlated random-walk (addressable in the
future)</li>
<li>Cannot calculate long-term metrics directly</li>
</ul>
<p>The convolution method is an entirely different approach from using
linear algebra solvers. The convolution algorithm does not use the
transition matrix, but instead calculates the result using a moving
window across the data. Creation of the samc object with the convolution
method is significantly faster and somewhat more memory efficient as a
result. However, it cannot be switched to a different method after
creation like with the linear algebra solvers.</p>
<p>The convolution algorithm can only calculate results for metrics one
time step or iteration at a time, so calculating long-term metrics
requires running the algorithm long enough for the results to converge
on total absorption. This can be either really fast or slow, depending
on the data distribution in the raster inputs. The convolution algorithm
does benefit from parallelization but currently has significant
diminishing returns after two threads.</p>
<p>When calculating all metrics, the algorithm is very memory efficient,
potentially making it the best (or only) choice when the datasets are
large enough to be memory-constrained. Additionally, for short-term
metrics where the goal is analyses with a specific number of time steps,
the calculations are moderately faster than the linear algebra
approach.</p>
<p>To use the convolution method, it must be specified during the
creation of the samc object:</p>
<pre><code><span><span class="fu"><a href="../reference/samc.html">samc</a></span><span class="op">(</span><span class="va">...</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"conv"</span><span class="op">)</span><span class="op">)</span></span></code></pre>
<p>It cannot be switched to other methods after creating the samc
object.</p>
</div>
</div>
<div class="section level2">
<h2 id="compatibility-tables">Compatibility Tables<a class="anchor" aria-label="anchor" href="#compatibility-tables"></a>
</h2>
<table class="table">
<thead><tr class="header">
<th align="left">Model</th>
<th align="left">Direct</th>
<th align="left">Iterative</th>
<th align="left">Convolution</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Random Walk</td>
<td align="left">✓</td>
<td align="left">✓</td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
</td>
</tr>
<tr class="even">
<td align="left">Correlated RW</td>
<td align="left">✓</td>
<td align="left">✓</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
See above for limitations of the convolution random walk.</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="16%">
<col width="33%">
<col width="16%">
<col width="16%">
<col width="16%">
</colgroup>
<thead><tr class="header">
<th align="left">Function</th>
<th align="left">Equation</th>
<th align="left">Direct</th>
<th align="left">Iterative</th>
<th align="left">Convolution</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><code><a href="../reference/absorption.html">absorption()</a></code></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mi>F</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">A = F R</annotation></semantics></math></td>
<td align="left">✓</td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>2</mn></msup><annotation encoding="application/x-tex">^2</annotation></semantics></math>
</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>ψ</mi><mi>T</mi></msup><mi>A</mi></mrow><annotation encoding="application/x-tex">\psi^T A</annotation></semantics></math></td>
<td align="left">✓</td>
<td align="left">✓</td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>2</mn></msup><annotation encoding="application/x-tex">^2</annotation></semantics></math>
</td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/cond_passage.html">cond_passage()</a></code></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mi>t</mi><mo accent="true">̃</mo></mover><mo>=</mo><msubsup><mover><mi>B</mi><mo accent="true">̃</mo></mover><mi>j</mi><mrow><mi>−</mi><mn>1</mn></mrow></msubsup><mover><mi>F</mi><mo accent="true">̃</mo></mover><msub><mover><mi>B</mi><mo accent="true">̃</mo></mover><mi>j</mi></msub><mo>⋅</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\tilde{t} = \tilde{B}_j^{-1}\tilde{F}\tilde{B}_j{\cdot}1</annotation></semantics></math></td>
<td align="left">✓</td>
<td align="left">✓</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/dispersal.html">dispersal()</a></code></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover><mi>D</mi><mo accent="true">̃</mo></mover><mrow><mi>j</mi><mi>t</mi></mrow></msub><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msubsup><msup><mover><mi>Q</mi><mo accent="true">̃</mo></mover><mi>n</mi></msup><mo stretchy="true" form="postfix">)</mo></mrow><msub><mover><mi>q</mi><mo accent="true">̃</mo></mover><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\tilde{D}_{jt}=({\sum}_{n=0}^{t-1}\tilde{Q}^n)\tilde{q}_j</annotation></semantics></math></td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
</td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>ψ</mi><mi>T</mi></msup><msub><mover><mi>D</mi><mo accent="true">̃</mo></mover><mrow><mi>j</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\psi^T\tilde{D}_{jt}</annotation></semantics></math></td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
</td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>F</mi><mo>−</mo><mi>I</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>d</mi><mi>i</mi><mi>a</mi><mi>g</mi><msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>F</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mi>−</mi><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">D=(F-I)diag(F)^{-1}</annotation></semantics></math></td>
<td align="left">✓</td>
<td align="left">✓</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>ψ</mi><mi>T</mi></msup><mi>D</mi></mrow><annotation encoding="application/x-tex">\psi^TD</annotation></semantics></math></td>
<td align="left">✓</td>
<td align="left">✓</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/distribution.html">distribution()</a></code></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>Q</mi><mi>t</mi></msup><annotation encoding="application/x-tex">Q^t</annotation></semantics></math></td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
</td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>ψ</mi><mi>T</mi></msup><msup><mi>Q</mi><mi>t</mi></msup></mrow><annotation encoding="application/x-tex">\psi^TQ^t</annotation></semantics></math></td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
</td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
</td>
<td align="left">✓</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/mortality.html">mortality()</a></code></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover><mi>B</mi><mo accent="true">̃</mo></mover><mi>t</mi></msub><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msubsup><msup><mi>Q</mi><mi>n</mi></msup><mo stretchy="true" form="postfix">)</mo></mrow><mover><mi>R</mi><mo accent="true">̃</mo></mover></mrow><annotation encoding="application/x-tex">\tilde{B}_t = (\sum_{n=0}^{t-1} Q^n) \tilde{R}</annotation></semantics></math></td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
</td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>ψ</mi><mi>T</mi></msup><msub><mover><mi>B</mi><mo accent="true">̃</mo></mover><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\psi^T \tilde{B}_t</annotation></semantics></math></td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
</td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
</td>
<td align="left">✓</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>=</mo><mi>F</mi><mover><mi>R</mi><mo accent="true">̃</mo></mover></mrow><annotation encoding="application/x-tex">B = F \tilde{R}</annotation></semantics></math></td>
<td align="left">✓</td>
<td align="left">✓</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>ψ</mi><mi>T</mi></msup><mi>B</mi></mrow><annotation encoding="application/x-tex">\psi^T B</annotation></semantics></math></td>
<td align="left">✓</td>
<td align="left">✓</td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>2</mn></msup><annotation encoding="application/x-tex">^2</annotation></semantics></math>
</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/survival.html">survival()</a></code></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi><mo>=</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>I</mi><mo>−</mo><mi>Q</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mi>−</mi><mn>1</mn></mrow></msup><mo>⋅</mo><mn>1</mn><mo>=</mo><mi>F</mi><mo>⋅</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">z=(I-Q)^{-1}{\cdot}1=F{\cdot}1</annotation></semantics></math></td>
<td align="left">✓</td>
<td align="left">✓</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>ψ</mi><mi>T</mi></msup><mi>z</mi></mrow><annotation encoding="application/x-tex">{\psi}^Tz</annotation></semantics></math></td>
<td align="left">✓</td>
<td align="left">✓</td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>2</mn></msup><annotation encoding="application/x-tex">^2</annotation></semantics></math>
</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/visitation.html">visitation()</a></code></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover><mi>F</mi><mo accent="true">̃</mo></mover><mi>t</mi></msub><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msubsup><msup><mi>Q</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">\tilde{F}_t = \sum_{n=0}^{t-1} Q^n</annotation></semantics></math></td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
</td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>ψ</mi><mi>T</mi></msup><msub><mover><mi>F</mi><mo accent="true">̃</mo></mover><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">{\psi}^T \tilde{F}_t</annotation></semantics></math></td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
</td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
</td>
<td align="left">✓</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo>=</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>I</mi><mo>−</mo><mi>Q</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mi>−</mi><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">F = (I-Q)^{-1}</annotation></semantics></math></td>
<td align="left">✓</td>
<td align="left">✓</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>ψ</mi><mi>T</mi></msup><mi>F</mi></mrow><annotation encoding="application/x-tex">{\psi}^T F</annotation></semantics></math></td>
<td align="left">✓</td>
<td align="left">✓</td>
<td align="left">✓<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>2</mn></msup><annotation encoding="application/x-tex">^2</annotation></semantics></math>
</td>
</tr>
</tbody>
</table>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^1</annotation></semantics></math>
Short-term metrics do not use linear algebra solvers. Instead, they
calculate the results directly in a loop. This is the same regardless of
whether a direct or an iterative solver is used. It will not necessarily
have the same performance characteristics as the long-term metrics.</p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>2</mn></msup><annotation encoding="application/x-tex">^2</annotation></semantics></math>
The number of iterations or steps to convergence for the long-term
metrics under the convolution method depends on the input data. A hard
limit of 1,000,000 iterations is implemented, and if reached, a warning
will be issued to indicate that the results may not have fully
converged.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andrew Marx.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
