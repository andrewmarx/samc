<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Spatial Absorbing Markov Chains • samc</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Spatial Absorbing Markov Chains">
<meta name="description" content='Implements functions for working with absorbing Markov chains. The implementation is based on the framework described in "Toward a unified framework for connectivity that disentangles movement and mortality in space and time" by Fletcher et al. (2019) &lt;doi:10.1111/ele.13333&gt;, which applies them to spatial ecology. This framework incorporates both resistance and absorption with spatial absorbing Markov chains (SAMC) to provide several short-term and long-term predictions for metrics related to connectivity in landscapes. Despite the ecological context of the framework, this package can be used in any application of absorbing Markov chains.'>
<meta property="og:description" content='Implements functions for working with absorbing Markov chains. The implementation is based on the framework described in "Toward a unified framework for connectivity that disentangles movement and mortality in space and time" by Fletcher et al. (2019) &lt;doi:10.1111/ele.13333&gt;, which applies them to spatial ecology. This framework incorporates both resistance and absorption with spatial absorbing Markov chains (SAMC) to provide several short-term and long-term predictions for metrics related to connectivity in landscapes. Despite the ecological context of the framework, this package can be used in any application of absorbing Markov chains.'>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">samc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/overview.html">Overview</a></li>
    <li><a class="dropdown-item" href="articles/article-circuit-theory.html">Circuit Theory</a></li>
    <li><a class="dropdown-item" href="articles/article-computation-methods.html">Computation Methods</a></li>
    <li><a class="dropdown-item" href="articles/article-models.html">Models</a></li>
    <li><a class="dropdown-item" href="articles/performance.html">Performance</a></li>
    <li><a class="dropdown-item" href="articles/parallel.html">Parallel Computing</a></li>
    <li><a class="dropdown-item" href="articles/troubleshooting.html">Troubleshooting</a></li>
    <li><a class="dropdown-item" href="articles/code-snippets.html">Code Snippets</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-data" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Data</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-data">
<li><a class="dropdown-item" href="articles/data-disconnected.html">Disconnected Data</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials">
<li><a class="dropdown-item" href="articles/tutorial-basic.html">Basic Tutorial</a></li>
    <li><a class="dropdown-item" href="articles/tutorial-locations.html">Locations</a></li>
    <li><a class="dropdown-item" href="articles/tutorial-ggplot.html">ggplot Visualization</a></li>
    <li><a class="dropdown-item" href="articles/tutorial-temporal.html">Temporal Analysis</a></li>
    <li><a class="dropdown-item" href="articles/tutorial-animations.html">Animations</a></li>
    <li><a class="dropdown-item" href="articles/tutorial-multiple-absorption.html">Multiple Absorption</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples">
<li><a class="dropdown-item" href="articles/example-coinflip.html">Coin Flip</a></li>
    <li><a class="dropdown-item" href="articles/example-maze-part1.html">Maze (Part 1)</a></li>
    <li><a class="dropdown-item" href="articles/example-maze-part2.html">Maze (Part 2)</a></li>
    <li><a class="dropdown-item" href="articles/example-maze-part3.html">Maze (Part 3)</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/andrewmarx/samc"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level2">
<h2 id="samc-">
<strong>samc</strong> <a href="reference/figures/3d-stack.png"><img align="right" width="35%" src="reference/figures/3d-stack-small.png" style="padding-left: 10px"></a>
<a class="anchor" aria-label="anchor" href="#samc-"></a>
</h2>
<p><a href="https://cran.r-project.org/package=samc" class="external-link"><img src="https://www.r-pkg.org/badges/version/samc" alt="CRAN_Status_Badge"></a> <a href="https://cran.r-project.org/package=samc" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/samc" alt="metacran downloads"></a></p>
<div class="section level4">
<h4 id="introduction">
<strong>Introduction</strong><a class="anchor" aria-label="anchor" href="#introduction"></a>
</h4>
<p>This is an R package that implements functions for working with absorbing Markov chains using theorems described in the book “Finite Markov Chains” by Kemeny and Snell. The design of this package is based on the implementation of these theorems in the framework described by Fletcher et al. (2019), which applies them to spatial ecology. This framework incorporates both resistance and absorption (or mortality) using spatial absorbing Markov chains to provide several short- and long-term predictions for metrics related to connectivity in landscapes. These metrics are listed in Table 1 of Fletcher et al. (2019), as well as the <a href="articles/overview.html">Overview</a> vignette. Despite the ecological context of the package, these functions can be used in any application of absorbing Markov chains.</p>
<p>As of version 3.1.0, this package also supports use of the convolution algorithm described by Hughes et al. (2023). This algorithm uses a moving window approach to calculate many of the same metrics iteratively in a fast and memory efficient manner.</p>
</div>
<div class="section level4">
<h4 id="installation">
<strong>Installation</strong><a class="anchor" aria-label="anchor" href="#installation"></a>
</h4>
<p>It is recommended that users install the samc package via CRAN, where it will be regularly kept up to date.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"samc"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="citation">
<strong>Citation</strong><a class="anchor" aria-label="anchor" href="#citation"></a>
</h4>
<p>When using the package, please cite it using:</p>
<p>Marx, A.J., Wang, C., Sefair, J.A., Acevedo, M.A. and Fletcher, R.J., Jr. (2020), samc: an R package for connectivity modeling with spatial absorbing Markov chains. Ecography, 43: 518-527. <a href="https://doi.org/10.1111/ecog.04891" class="external-link">doi:10.1111/ecog.04891</a></p>
</div>
<div class="section level4">
<h4 id="publications">
<strong>Publications</strong><a class="anchor" aria-label="anchor" href="#publications"></a>
</h4>
<p>This is a list of publications where the samc package was used in some way:</p>
<ul>
<li>
<a href="http://dx.doi.org/10.1111/1365-2664.14504" class="external-link"><strong>Predicting dispersal and conflict risk for wolf recolonization in Colorado</strong></a> <em>Journal of Applied Ecology (Sep 2023)</em>
</li>
<li>
<a href="http://dx.doi.org/10.1007/s10980-023-01741-8" class="external-link"><strong>A framework for linking dispersal biology to connectivity across landscapes</strong></a> <em>Landscape Ecology (Jul 2023)</em>
</li>
<li>
<a href="http://dx.doi.org/10.1007/s10980-023-01619-9" class="external-link"><strong>Comparison and parallel implementation of alternative moving-window metrics of the connectivity of protected areas across large landscapes</strong></a> <em>Landscape Ecology (Mar 2023)</em>
</li>
<li>
<a href="http://dx.doi.org/10.1073/pnas.2211482119" class="external-link"><strong>Mapping the connectivity–conflict interface to inform conservation</strong></a> <em>PNAS (Dec 2022)</em>
</li>
<li>
<a href="http://dx.doi.org/10.1007/s10980-022-01569-8" class="external-link"><strong>Landscape connectivity for an endangered carnivore: habitat conservation and road mitigation for ocelots in the US</strong></a> <em>Landscape Ecology (Dec 2022)</em>
</li>
<li>
<a href="http://doi.org/10.1111/2041-210X.13975" class="external-link"><strong>Extending isolation by resistance to predict genetic connectivity</strong></a> <em>Methods in Ecology and Evolution (Sep 2022)</em>
</li>
<li>
<a href="http://dx.doi.org/10.1111/ecog.05351" class="external-link"><strong>Defining and quantifying effective connectivity of landscapes for species’ movements</strong></a> <em>Ecography (Mar 2021)</em>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="major-changes">
<strong>Major Changes</strong><a class="anchor" aria-label="anchor" href="#major-changes"></a>
</h4>
<p>Version 4 of the package made one breaking change:</p>
<ul>
<li>The <code>visitation_net(samc, origin, dest)</code> function has been updated to behave consistently like other metrics. Instead of a returning a vector, it now returns a single value. This is accompanied with a change to the mathematical implementation the correctly generalizes to models with multiple absorbing points.</li>
</ul>
<p>Version 3 of the package made some minor breaking changes:</p>
<ul>
<li>The <code><a href="reference/samc.html">samc()</a></code> function no longer supports <code>TransitionLayer</code> inputs. This only had a niche use case, but before v3 wasn’t an issue to include because of other dependencies on gdistance. With v3, this became the only dependency left for gdistance, so it was removed to avoid potential future issues should gdistance ever get removed from CRAN (which nearly happened in 2022).</li>
<li>With the addition of terra support, the <code><a href="reference/map.html">map()</a></code> function was updated so that its output matches the input type to <code><a href="reference/samc.html">samc()</a></code>. Previously, matrix inputs were matched to RasterLayers, but now they are mapped back to matrices.</li>
<li>The <code>sym</code> option for creating the samc object is currently ignored.</li>
<li>The <code>tr_args</code> and <code>occ</code> parameters were renamed to <code>model</code> and <code>init</code>, respectively.</li>
<li>
<code><a href="reference/cond_passage.html">cond_passage()</a></code> and <code><a href="reference/visitation.html">visitation()</a></code> had an <code>init</code> argument inserted to match the usage of other metrics. These arguments are not fully implemented as of v3.0.0 but may be implemented in the future.</li>
<li>Cells are no longer automatically named by <code><a href="reference/samc.html">samc()</a></code> when creating the transition matrix from maps. Generating unique character names for each cell ended up being a significant waste of memory as the inputs to <code><a href="reference/samc.html">samc()</a></code> got larger. It’s unlikely these names were ever used in practice, since using the numeric results from <code><a href="reference/locate.html">locate()</a></code> is more convenient.</li>
</ul>
<p>Version 2 of the package officially removed support for various deprecated parameters in the <code><a href="reference/samc.html">samc()</a></code> function. Deprecation warnings were provided starting in v1.4.0 of the package, along with message details and a backward compatible implementation of the expected changes. Removing this backward compatibility is a breaking change that will require some old code to be updated in order to run on the latest version of the package. The changes needed are straightforward and mostly entail some reorganization of the input parameters for the <code><a href="reference/samc.html">samc()</a></code> function. Some of the old functionality, primarily overriding memory safety limits, has been moved to the <code>samc-class</code> itself and is no longer tied to the object creation. Redesigning the <code><a href="reference/samc.html">samc()</a></code> function and removing backward compatibility makes maintaining the package and adding new features later a substantially improved process; hopefully with only minor inconvenience to users.</p>
</div>
<div class="section level4">
<h4 id="support">
<strong>Support</strong><a class="anchor" aria-label="anchor" href="#support"></a>
</h4>
<p>Please note that this section is for package-specific queries. If you have questions or comments about the related published articles, contact the authors.</p>
<div class="section level6">
<h6 id="have-an-error-and-cant-fix-it">
<em>Have an error and can’t fix it?</em><a class="anchor" aria-label="anchor" href="#have-an-error-and-cant-fix-it"></a>
</h6>
<p>If you have an error, make sure you are using the newest version of the package. Then, check the site’s <a href="articles/troubleshooting.html">Troubleshooting</a> page, which is periodically updated with common errors that users encounter.</p>
</div>
<div class="section level6">
<h6 id="not-sure-how-to-do-something-found-a-bug-have-a-feature-request-still-cant-solve-your-error-want-to-show-off-your-project">
<em>Not sure how to do something? Found a bug? Have a feature request? Still can’t solve your error? Want to show off your project?</em><a class="anchor" aria-label="anchor" href="#not-sure-how-to-do-something-found-a-bug-have-a-feature-request-still-cant-solve-your-error-want-to-show-off-your-project"></a>
</h6>
<p>We have a Github discussions page for anything and everything related to the package here: <a href="https://github.com/andrewmarx/samc/discussions" class="external-link">Github Discussions</a></p>
</div>
</div>
<div class="section level4">
<h4 id="license">
<strong>License</strong><a class="anchor" aria-label="anchor" href="#license"></a>
</h4>
<p>By default, package code is licensed under AGPLv3. Some code files derived from 3rd party sources may be licensed under GPLv3 and will have a comment to indicate this is the case.</p>
<p>Website materials are licensed under CC BY-NC-SA 4.0.</p>
</div>
<div class="section level4">
<h4 id="references">
<strong>References</strong><a class="anchor" aria-label="anchor" href="#references"></a>
</h4>
<p>Fletcher, R.J., Jr., Sefair, J.A., Wang, C., Poli, C.L., Smith, T.A.H., Bruna, E.M., Holt, R.D., Barfield, M., Marx, A.J. and Acevedo, M.A. (2019), Towards a unified framework for connectivity that disentangles movement and mortality in space and time. Ecol Lett, 22: 1680-1689. <a href="https://doi.org/10.1111/ele.13333" class="external-link uri">https://doi.org/10.1111/ele.13333</a></p>
<p>Hughes, J., Lucet, V., Barrett, G. et al. Comparison and parallel implementation of alternative moving-window metrics of the connectivity of protected areas across large landscapes. Landsc Ecol (2023). <a href="https://doi.org/10.1007/s10980-023-01619-9" class="external-link uri">https://doi.org/10.1007/s10980-023-01619-9</a></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=samc" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/andrewmarx/samc/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/andrewmarx/samc/issues/" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>AGPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing samc</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Andrew Marx <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0002-7456-1631" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andrew Marx.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
